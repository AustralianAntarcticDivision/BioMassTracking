<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Prepares the arena for an estimation of movement — prepare.arena • BiomassTracking</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Prepares the arena for an estimation of movement — prepare.arena"><meta property="og:description" content="This function prepares the arena, i.e. the flow field and the polygon
structure, for use by the other functions in package BiomassTracking."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">BiomassTracking</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Prepares the arena for an estimation of movement</h1>
    
    <div class="hidden name"><code>prepare.arena.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function prepares the arena, i.e. the flow field and the polygon
structure, for use by the other functions in package BiomassTracking.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">prepare.arena</span><span class="op">(</span>file_U <span class="op">=</span> <span class="cn">NULL</span>, file_V <span class="op">=</span> <span class="cn">NULL</span>, file_S <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">file_U</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, m <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">file_U</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, na.string <span class="op">=</span> <span class="st">"-9999"</span>,</span>
<span>  eddy <span class="op">=</span> <span class="cn">FALSE</span>, smooth <span class="op">=</span> <span class="cn">FALSE</span>, noise_sd <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>file_U</dt>
<dd><p>Describes the U data, see details.</p></dd>


<dt>file_V</dt>
<dd><p>Describes the V data, see details.</p></dd>


<dt>file_S</dt>
<dd><p>Describes the S data, see details.</p></dd>


<dt>n</dt>
<dd><p>Zonal dimension of the arena, if needed.</p></dd>


<dt>m</dt>
<dd><p>Meridional dimension of the arena, if needed.</p></dd>


<dt>na.string</dt>
<dd><p>The character string denoting NA in the input files.</p></dd>


<dt>eddy</dt>
<dd><p>If TRUE, an eddy is added in the middle of the arena.</p></dd>


<dt>smooth</dt>
<dd><p>If TRUE, the flow field is smoothed with a 3x3 moving average.</p></dd>


<dt>noise_sd</dt>
<dd><p>The standard deviation of Gaussian noise added to the flow
field.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An object of class <code>arena</code>, describing the arena in which the
function is too be used. It is a list containing elements <code>lat</code>,
<code>lon</code>, <code>U</code>, <code>V</code> and <code>S</code> (in that order).</p>
<dl><dt>lon,
lat</dt>
<dd><p>Vectors storing the latitude and longitude values of the grid points
used.</p></dd>
 <dt>U, V</dt>
<dd><p>Matrices with the corresponding flow velocities in
west-east and south-north direction.</p></dd>
 <dt>S</dt>
<dd><p>A matrix in which each grid
points has an integer number, either giving the polygon it belongs to (if &gt;
0) or stating that this grid point lies on land (if == 0).</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The data descriptors <code>file\_U</code>, <code>file\_V</code> and <code>file\_S</code> can
come in a number of different formats. If they are filenames, the respective
data is loaded from these files. In case the data is already loaded, they
can also be data.frames. If they are NULL, a default construction is
invoked, where the values <code>n</code> and <code>m</code> are needed and the flow is
straight in west-east direction.  They can also be matrices giving the
respective data directly.</p>
<p>In the usual case, the data is loaded from files and then prepared to be
used. The matrices <code>U</code> and <code>V</code> are interpolated in every NA
position that is not land, while the velocities on land are set to 0. The
component perpendicular to land of the sea velocities directly at the
land-sea boundary is set to 0 if it points towards land, so that particles
wouldn't cross the boundary if an ideal particle tracking algorithm was
used.</p>
<p>The data is then rescaled, as the files are supposed to be in m/s format
while the particle tracking algorithms act on a longitude/latitude grid.
Therefore, the values of 'U' and 'V' are rescaled to degree lon/day and
degree lat/day, respectively. Note that this rescaling includes a relative
increase of the southern U-velocities compared to the northern U-velocities,
because the longitudinal distances are smaller in the South. Also note that
the whole algorithm is meant to work in the southern hemisphere and has to
be adapted to the Northern Hemisphere if that is wanted.</p>
    </div>
    <div id="warning">
    <h2>Warning</h2>
    <p>This function is written only for the Southern Hemisphere,
but can be adapted easily to the Northern Hemisphere.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>TODO: my report</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="particle.tracking.html">particle.tracking</a></code>, <code><a href="biomass.tracking.html">biomass.tracking</a></code>,
<code><a href="particle.tracking.compare.html">particle.tracking.compare</a></code>, <code><a href="biomass.compare.html">biomass.compare</a></code>,
<code><a href="plot.arena.html">plot.arena</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Thorsten Lenser</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Udata</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Vdata</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Sdata</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">arena</span> <span class="op">=</span> <span class="fu">prepare.arena</span><span class="op">(</span><span class="va">Udata</span>,<span class="va">Vdata</span>,<span class="va">Sdata</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">arena</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="prepare.arena-1.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Thorsten Lenser, Michael D. Sumner.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

