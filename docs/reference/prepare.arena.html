<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Prepares the arena for an estimation of movement — prepare.arena â€¢ BiomassTracking</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">BiomassTracking</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Prepares the arena for an estimation of movement</h1>
    </div>

    
    <p>This function prepares the arena, i.e. the flow field and the polygon
structure, for use by the other functions in package BiomassTracking.</p>
    

    <pre><span class='fu'>prepare.arena</span>(<span class='kw'>file_U</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>file_V</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>file_S</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>n</span> <span class='kw'>=</span> <span class='fu'>dim</span>(<span class='no'>file_U</span>)[<span class='fl'>2</span>], <span class='kw'>m</span> <span class='kw'>=</span> <span class='fu'>dim</span>(<span class='no'>file_U</span>)[<span class='fl'>1</span>], <span class='kw'>na.string</span> <span class='kw'>=</span> <span class='st'>"-9999"</span>,
  <span class='kw'>eddy</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>smooth</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>noise_sd</span> <span class='kw'>=</span> <span class='fl'>0</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>file_U</th>
      <td><p>Describes the U data, see details.</p></td>
    </tr>
    <tr>
      <th>file_V</th>
      <td><p>Describes the V data, see details.</p></td>
    </tr>
    <tr>
      <th>file_S</th>
      <td><p>Describes the S data, see details.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>Zonal dimension of the arena, if needed.</p></td>
    </tr>
    <tr>
      <th>m</th>
      <td><p>Meridional dimension of the arena, if needed.</p></td>
    </tr>
    <tr>
      <th>na.string</th>
      <td><p>The character string denoting NA in the input files.</p></td>
    </tr>
    <tr>
      <th>eddy</th>
      <td><p>If TRUE, an eddy is added in the middle of the arena.</p></td>
    </tr>
    <tr>
      <th>smooth</th>
      <td><p>If TRUE, the flow field is smoothed with a 3x3 moving average.</p></td>
    </tr>
    <tr>
      <th>noise_sd</th>
      <td><p>The standard deviation of Gaussian noise added to the flow
field.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class <code>arena</code>, describing the arena in which the
function is too be used. It is a list containing elements <code>lat</code>,
<code>lon</code>, <code>U</code>, <code>V</code> and <code>S</code> (in that order).</p>
<dt>lon,
lat</dt><dd><p>Vectors storing the latitude and longitude values of the grid points
used.</p></dd> <dt>U, V</dt><dd><p>Matrices with the corresponding flow velocities in
west-east and south-north direction.</p></dd> <dt>S</dt><dd><p>A matrix in which each grid
points has an integer number, either giving the polygon it belongs to (if &gt;
0) or stating that this grid point lies on land (if == 0).</p></dd>

    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The data descriptors <code>file\_U</code>, <code>file\_V</code> and <code>file\_S</code> can
come in a number of different formats. If they are filenames, the respective
data is loaded from these files. In case the data is already loaded, they
can also be data.frames. If they are NULL, a default construction is
invoked, where the values <code>n</code> and <code>m</code> are needed and the flow is
straight in west-east direction.  They can also be matrices giving the
respective data directly.</p>
<p>In the usual case, the data is loaded from files and then prepared to be
used. The matrices <code>U</code> and <code>V</code> are interpolated in every NA
position that is not land, while the velocities on land are set to 0. The
component perpendicular to land of the sea velocities directly at the
land-sea boundary is set to 0 if it points towards land, so that particles
wouldn't cross the boundary if an ideal particle tracking algorithm was
used.</p>
<p>The data is then rescaled, as the files are supposed to be in m/s format
while the particle tracking algorithms act on a longitude/latitude grid.
Therefore, the values of 'U' and 'V' are rescaled to degree lon/day and
degree lat/day, respectively. Note that this rescaling includes a relative
increase of the southern U-velocities compared to the northern U-velocities,
because the longitudinal distances are smaller in the South. Also note that
the whole algorithm is meant to work in the southern hemisphere and has to
be adapted to the Northern Hemisphere if that is wanted.</p>
    
    <h2 class="hasAnchor" id="warning"><a class="anchor" href="#warning"></a>Warning</h2>

    <p>This function is written only for the Southern Hemisphere,
but can be adapted easily to the Northern Hemisphere.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>TODO: my report</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='particle.tracking.html'>particle.tracking</a></code>, <code><a href='biomass.tracking.html'>biomass.tracking</a></code>,
<code><a href='particle.tracking.compare.html'>particle.tracking.compare</a></code>, <code><a href='biomass.compare.html'>biomass.compare</a></code>,
<code><a href='plot.arena.html'>plot.arena</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>data</span>(<span class='no'>Udata</span>)
<span class='fu'>data</span>(<span class='no'>Vdata</span>)
<span class='fu'>data</span>(<span class='no'>Sdata</span>)
<span class='no'>arena</span> <span class='kw'>=</span> <span class='fu'>prepare.arena</span>(<span class='no'>Udata</span>,<span class='no'>Vdata</span>,<span class='no'>Sdata</span>)
<span class='fu'>plot</span>(<span class='no'>arena</span>)</div><img src='prepare.arena-2.png' alt='' width='540' height='400' /></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#warning">Warning</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Thorsten Lenser

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Thorsten Lenser, Michael D. Sumner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
